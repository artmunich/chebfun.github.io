<!DOCTYPE html>
<html>
  <head>
    <title>Histogram from function or data &raquo; Chebfun</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <!-- Bootstrap -->
    <link href="/css/bootstrap-custom.css" rel="stylesheet"><!--  media="screen" -->
    <link href="/css/site.css" rel="stylesheet"><!--  media="screen" -->
    <link href="/css/syntax.css" rel="stylesheet"><!--  media="screen" -->
    <link href="/css/tomorrow.css" rel="stylesheet"><!--  media="screen" -->
    <link href="/css/flexslider.css" rel="stylesheet"><!--  media="screen" -->

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
<!-- ********* BEGIN GOOGLE ANALYTICS *********** -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4297200-9");
pageTracker._trackPageview();
} catch(err) {}</script>
<!-- ********* END GOOGLE ANALYTICS *********** -->  </head>

  <body>

    <!-- Fixed navbar -->
    <div id='navbar' class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <!-- <a class="navbar-brand" href="/">Chebfun</a> -->
          <a id="logo" href="/"><img src='/images/logo.png' /></a>
        </div>
        <div class="navbar-collapse collapse">

          <!--<ul class="nav navbar-nav navbar-left"></ul>-->

          <ul class="nav navbar-nav navbar-right">
            <li><a href="/about/">About</a></li>
            <li><a href="/download/">Download</a></li>
            <li><a href="/docs/">Documentation</a></li>
            <li class="active"><a href="/examples/">Examples</a></li>
            <li><a href="/develop/">Develop</a></li>
            <li><a href="/citing/">Citing</a></li>
            <li><a href="/support/">Support</a></li>
          </ul>

        </div><!--/.nav-collapse -->
      </div>
    </div>


<div class="container">

    <ol class="breadcrumb">
       <li><a href="/">Home</a></li>
       <li><a href="/examples/">Examples</a></li>
       <li><a href="/examples/stats/">Probability and statistics</a></li>
       <li class="active">Histogram from function or data</li>
    </ol>

    <div class="page-header">
 
        <h1>Histogram from function or data</h1>
        <h2>Nick Trefethen, May 2011</h2>
    </div>

    <div class="row">

<!--
        <div class="col-md-4" role="navigation"> 
        </div>
-->

        <div class="content">
            <div class="col-md-8" data-spy="scroll" data-target="#sidenav" role="main">
                <pre class="mcode-input">% [Tags: #histogram, #HIST]</pre>

<pre class="mcode-input">function Histogram</pre>

<p>Suppose we have a chebfun, like this one:</p>
<pre class="mcode-input">x = chebfun('x',[0,10]);
f = x/3 + cos(2*x) + .5*sin(x.^2) + .2*sin(27*x);
LW = 'linewidth';
plot(f,LW,1), hold on</pre>

<p><img src="img/Histogram_01.png" alt=""></p>
<p>and we have some bins defined by bin edges, like these:</p>
<pre class="mcode-input">edges = 0:10;</pre>

<p>and we want to 'bin' f into these bins.  Here is a "histogram" function that will do something along these lines.  In each bin, the value it stores is the total integral of f in that interval.</p>
<pre class="mcode-input">function h = hist(f,edges)
    nbins = length(edges)-1;
    data = zeros(nbins,1);
    fsum = cumsum(f);
    for k = 1:nbins
        a = edges(k); b = edges(k+1);
        data(k) = fsum(b)-fsum(a);
    end
    h = chebfun(num2cell(data),edges);
end</pre>

<p>If we apply the function to our data, we get a histogram represented as a piecewise constant chebfun:</p>
<pre class="mcode-input">h = hist(f,edges);
plot(h,'r',LW,2)</pre>

<p><img src="img/Histogram_02.png" alt=""></p>
<p>What if we wanted to start from data points rather than a function? Chebfun would allow us to do this with delta functions, like this:</p>
<pre class="mcode-input">npts = 50; xpts = 5+randn(npts,1);
f2 = 0*x;
for j = 1:npts
    f2 = f2 + dirac(x-xpts(j));
end
hold off
plot(xpts,0*xpts,'.k','markersize',10)
edges = 0:.5:10;
h = hist(f2,edges);
hold on, plot(h,'r',LW,2)
ylim([-1,max(h)+1])</pre>

<p><img src="img/Histogram_03.png" alt=""></p>
<p>This is an extremely inefficient way to work with data, but it illustrates some of the ways in which chebfuns can be manipulated.</p>
<p>Perhaps an overload of Matlab's HIST command should be included in Chebfun?  Such an overload would certainly not use delta functions internally, and it would require some careful thinking about appropriate definitions.</p>
<pre class="mcode-input">end</pre>
            </div>
        </div>

    </div>
    

    <div class="footer">
        <div style="margin: 5px">
        </div>
        <p>Website powered by <a href="http://urubu.jandecaluwe.com">Urubu</a>.</p>
    </div>


</div> 


    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/js/bootstrap.min.js"></script>
    <script src="https://google-code-prettify.googlecode.com/svn/loader/prettify.js?lang=matlab" type="text/javascript"></script>
    <script type="text/javascript" src="/js/config.js"></script>
    <script type="text/javascript" src="/js/jquery.flexslider-min.js"></script>

  </body>
</html>